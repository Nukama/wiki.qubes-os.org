<h2 id="USBPassthrough:USBVM">USB Pass through: USBVM</h2>
<p>Source: <a href="https://groups.google.com/d/msg/qubes-devel/4AKulABh2Jc/_R7SRSC4peYJ">​https://groups.google.com/d/msg/qubes-devel/4AKulABh2Jc/_R7SRSC4peYJ</a></p>
<p>You'll need the patch tagged abb_e58b432 from <a href="git://github.com/grwl/qubes-core.git">​git://github.com/grwl/qubes-core.git</a>.</p>
<p>The rest is in RPMs, yes. I roughly follow this procedure to have pvusb on Qubes 1.0:</p>
<ul>
<li>rebuild kernel, core, and xen from marmarek's repo (devel-3.4 branch for kernel),</li>
<li>make dedicated usbvm domain, passthrough USB controller PCI devices there</li>
<li>in usbvm: &quot;rpm -Uhv qubes-core-vm-2.1.1-1.fc17.x86_64.rpm xen-libs-2000:4.1.3-18.fc17.x86_64.rpm xen-qubes-vm-essentials-2000:4.1.3-18.fc17.x86_64.rpm&quot;</li>
<li>in appvm where you want to attach the device to: &quot;rpm -Uhv qubes-core-vm-2.1.1-1.fc17.x86_64.rpm&quot;</li>
<li>in dom0 I think the following packages need to be updated, don't have exact list now.qubes-core-dom0 is actually important, the rest are dependencies:</li>
</ul>
<blockquote>
<p>kernel-qubes-vm-3.4.18-1.pvops.qubes.x86_64.rpm <br /> qubes-core-dom0-2.1.1-1.fc13.x86_64.rpm <br /> xen-4.1.3-18.fc13.x86_64.rpm <br /> xen-hvm-4.1.3gui2.0.9-18.fc13.x86_64.rpm <br /> xen-hypervisor-4.1.3-18.fc13.x86_64.rpm <br /> xen-libs-4.1.3-18.fc13.x86_64.rpm <br /> xen-licenses-4.1.3-18.fc13.x86_64.rpm <br /> xen-runtime-4.1.3-18.fc13.x86_64.rpm</p>
</blockquote>
<ul>
<li>plug or replug some USB device -- it will be picked up by usbvm, and in dom0 it will appear in the output of qvm-usb</li>
</ul>
