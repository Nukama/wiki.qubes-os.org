Qubes Users' FAQ
================

#. `General Questions <#GeneralQuestions>`__

   #. `Is Qubes just another Linux
      distribution? <#IsQubesjustanotherLinuxdistribution>`__
   #. `How is Qubes different from other security
      solutions? <#HowisQubesdifferentfromothersecuritysolutions>`__
   #. `What is the main concept behind
      Qubes? <#WhatisthemainconceptbehindQubes>`__
   #. `What about other approaches to
      security? <#Whataboutotherapproachestosecurity>`__
   #. `What about safe languages and formally verified
      microkernels? <#Whataboutsafelanguagesandformallyverifiedmicrokernels>`__
   #. `Why does Qubes use
      virtualization? <#WhydoesQubesusevirtualization>`__
   #. `Does Qubes run every app in a separate
      VM? <#DoesQubesruneveryappinaseparateVM>`__
   #. `Why does Qubes use Xen instead of KVM or some other
      hypervisor? <#WhydoesQubesuseXeninsteadofKVMorsomeotherhypervisor>`__
   #. `What's so special about Qubes' GUI
      virtualization? <#WhatssospecialaboutQubesGUIvirtualization>`__
   #. `Can I watch YouTube videos in
      AppVMs? <#CanIwatchYouTubevideosinAppVMs>`__
   #. `Can I run applications, like games, which require 3D
      support? <#CanIrunapplicationslikegameswhichrequire3Dsupport>`__
   #. `Is Qubes a multi-user system? <#IsQubesamulti-usersystem>`__

#. `Installation & Hardware
   Compatibility <#InstallationHardwareCompatibility>`__

   #. `How much disk space does each AppVM
      require? <#HowmuchdiskspacedoeseachAppVMrequire>`__
   #. `How much memory is recommended for
      Qubes? <#HowmuchmemoryisrecommendedforQubes>`__
   #. `Can I install Qubes on a system without
      VT-x? <#CanIinstallQubesonasystemwithoutVT-x>`__
   #. `Can I install Qubes on a system without
      VT-d? <#CanIinstallQubesonasystemwithoutVT-d>`__
   #. `Can I use AMD-v instead of VT-x? <#CanIuseAMD-vinsteadofVT-x>`__
   #. `Can I install Qubes in a virtual machine (e.g., on
      VMWare)? <#CanIinstallQubesinavirtualmachinee.g.onVMWare>`__

#. `Common Problems <#CommonProblems>`__

   #. `My AppVMs lost Internet access after a TemplateVM update. What
      should I
      do? <#MyAppVMslostInternetaccessafteraTemplateVMupdate.WhatshouldIdo>`__
   #. `My keyboard layout settings are not behaving correctly. What
      should I
      do? <#Mykeyboardlayoutsettingsarenotbehavingcorrectly.WhatshouldIdo>`__
   #. `My dom0 and/or TemplateVM update stalls when attempting to update
      via
      … <#Mydom0andorTemplateVMupdatestallswhenattemptingtoupdateviatheGUItool.WhatshouldIdo>`__
   #. `How do I run a Windows HVM in non-seamless mode (i.e., as a
      single
      window)? <#HowdoIrunaWindowsHVMinnon-seamlessmodei.e.asasinglewindow>`__

General Questions
-----------------

Is Qubes just another Linux distribution?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If you really want to call it a distribution, then it's more of a "Xen
distribution" than a Linux one. But Qubes is much more than just Xen
packaging. It has its own VM management infrastructure, with support for
template VMs, centralized VM updating, etc. It also has a very unique
GUI virtualization infrastructure.

How is Qubes different from other security solutions?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Please see `​this
article <http://theinvisiblethings.blogspot.com/2012/09/how-is-qubes-os-different-from.html>`__
for a thorough discussion.

What is the main concept behind Qubes?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

To build security on the “Security by Isolation” principle.

What about other approaches to security?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The other two popular
`​approaches <http://theinvisiblethings.blogspot.com/2008/09/three-approaches-to-computer-security.html>`__
are “Security by Correctness” and “Security by Obscurity.” We don't
believe either of these approaches are capable of providing reasonable
security today, nor do we believe that they will be capable of doing so
in the foreseeable future.

What about safe languages and formally verified microkernels?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

In short: these are non-realistic solutions today. We discuss this in
further depth in our `​Architecture Specification
document <http://files.qubes-os.org/files/doc/arch-spec-0.3.pdf>`__.

Why does Qubes use virtualization?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

We believe that this is currently the only practically viable approach
to implementing strong isolation while simultaneously providing
compatibility with existing applications and drivers.

Does Qubes run every app in a separate VM?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

No! This would not make much sense. Qubes uses lightweight VMs to create
security domains (e.g., "work," "personal," and "banking,"). A typical
user would likely need around five domains. Very paranoid users, or
those who are high-profile targets, might use a dozen or more domains.

Why does Qubes use Xen instead of KVM or some other hypervisor?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

In short: we believe the Xen architecture allows for the creation of
more secure systems (i.e. with a much smaller TCB, which translates to a
smaller attack surface). We discuss this in much greater depth in our
`​Architecture Specification
document <http://files.qubes-os.org/files/doc/arch-spec-0.3.pdf>`__.

What's so special about Qubes' GUI virtualization?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

We have designed the GUI virtualization subsystem with two primary
goals: security and performance. Our GUI infrastructure introduces only
about 2,500 lines of C code (LOC) into the privileged domain (Dom0),
which is very little, and thus leaves little space for bugs and
potential attacks. At the same time, due to the smart use of Xen shared
memory, our GUI implementation is very efficient, so most virtualized
applications really feel as if they were executed natively.

Can I watch YouTube videos in AppVMs?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Absolutely.

Can I run applications, like games, which require 3D support?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Those won’t fly. We do not provide OpenGL virtualization for AppVMs.
This is mostly a security decision, as implementing such a feature would
most likely introduce a great deal of complexity into the GUI
virtualization infrastructure. However, Qubes does allow for the use of
accelerated graphics (OpenGL) in Dom0’s Window Manager, so all the fancy
desktop effects should still work.

For further discussion about the potential for GPU passthorugh on
Xen/Qubes, please see the following threads:

-  `​GPU passing to
   HVM <https://groups.google.com/group/qubes-devel/browse_frm/thread/31f1f2da39978573?scoring=d&q=GPU&>`__
-  `​Clarifications on GPU
   security <https://groups.google.com/group/qubes-devel/browse_frm/thread/31e2d8a47c8b4474?scoring=d&q=GPU&>`__

Is Qubes a multi-user system?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

No. Qubes does not pretend to be a multi-user system. Qubes assumes that
the user who controls Dom0 controls the whole system. It would be very
difficult to **securely** implement multi-user support. See
`​here <https://groups.google.com/group/qubes-devel/msg/899f6f3efc4d9a06>`__
for details.]

Installation & Hardware Compatibility
-------------------------------------

(See also: `System Requirements </wiki/SystemRequirements>`__ and
`Hardware Compatibility List </wiki/HCL>`__.)

How much disk space does each AppVM require?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Each AppVM is created from a TemplateVM and shares the root filesystem
with this TemplateVM (in a read-only manner). This means that each AppVM
needs only as much disk space as is necessary to store its own private
data. This also means that it is possible to update the software for
several AppVMs simultaneously by running a single update process in the
TemplateVM upon which those AppVMs are based. (These AppVMs will then
have to be restarted in order for the update to take effect in them.)

How much memory is recommended for Qubes?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

At least 4 GB. It is possible to install Qubes on a system with 2 GB of
RAM, but the system would probably not be able to run more than three
AppVMs at a time.

Can I install Qubes on a system without VT-x?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Yes. Xen doesn't use VT-x (or AMD-v) for PV guest virtualization. (It
uses ring0/3 separation instead.) However, without VT-x, you won't be
able to use fully virtualized VMs (e.g., Windows-based AppVMs), which
were introduced in Qubes 2. In addition, if your system lacks VT-x, then
it also lacks VT-d. (See next question.)

Can I install Qubes on a system without VT-d?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Yes. You can even run a NetVM, but you will not benefit from DMA
protection for driver domains. On a system without VT-d, everything
should work in the same way, except there will be no real security
benefit to having a separate NetVM, as an attacker could always use a
simple DMA attack to go from the NetVM to Dom0. **Nonetheless, all of
Qubes' other security mechanisms, such as AppVM separation, work without
VT-d. Therefore, a system running Qubes will still be significantly more
secure than one running Windows, Mac, or Linux, even if it lacks VT-d.**

Can I use AMD-v instead of VT-x?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

See `​this
message <http://groups.google.com/group/qubes-devel/msg/6412170cfbcb4cc5>`__.

Can I install Qubes in a virtual machine (e.g., on VMWare)?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Some users have been able to do this, but it is neither recommended nor
supported. Qubes should be installed bare-metal. (After all, it uses its
own bare-metal hypervisor!)

Common Problems
---------------

My AppVMs lost Internet access after a TemplateVM update. What should I do?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Run ``systemctl enable NetworkManager-dispatcher.service`` in the
TemplateVM upon which your NetVM is based. You may have to reboot
afterward for the change to take effect. (Note: This is an upstream
problem. See
`​here <https://bugzilla.redhat.com/show_bug.cgi?id=974811>`__. For
details, see the qubes-users mailing list threads
`​here <https://groups.google.com/d/topic/qubes-users/xPLGsAJiDW4/discussion>`__
and
`​here <https://groups.google.com/d/topic/qubes-users/uN9G8hjKrGI/discussion>`__.)

My keyboard layout settings are not behaving correctly. What should I do?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Please read `​this
disccusion <https://groups.google.com/d/topic/qubes-devel/d8ZQ_62asKI/discussion>`__.

My dom0 and/or TemplateVM update stalls when attempting to update via the GUI tool. What should I do?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

This can usually be fixed by updating via the command line.

In dom0, open a terminal and run ``sudo qubes-dom0-update``.

In your TemplateVMs, open a terminal and run ``sudo yum upgrade``.

How do I run a Windows HVM in non-seamless mode (i.e., as a single window)?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Enable "debug mode" in the AppVM's settings, either by checking the box
labelled "Run in debug mode" in the Qubes VM Manager AppVM settings menu
or by running the `qvm-prefs command </wiki/Dom0Tools/QvmPrefs>`__.)
