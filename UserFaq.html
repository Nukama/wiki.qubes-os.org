<h1 id="QubesUsersFAQ">Qubes Users' FAQ</h1>
<p></p>
<ol>
<li><a href="#GeneralQuestions">General Questions</a>
<ol>
<li><a href="#IsQubesjustanotherLinuxdistribution">Is Qubes just another Linux distribution?</a></li>
<li><a href="#HowisQubesdifferentfromothersecuritysolutions">How is Qubes different from other security solutions?</a></li>
<li><a href="#WhatisthemainconceptbehindQubes">What is the main concept behind Qubes?</a></li>
<li><a href="#Whataboutotherapproachestosecurity">What about other approaches to security?</a></li>
<li><a href="#Whataboutsafelanguagesandformallyverifiedmicrokernels">What about safe languages and formally verified microkernels?</a></li>
<li><a href="#WhydoesQubesusevirtualization">Why does Qubes use virtualization?</a></li>
<li><a href="#DoesQubesruneveryappinaseparateVM">Does Qubes run every app in a separate VM?</a></li>
<li><a href="#WhydoesQubesuseXeninsteadofKVMorsomeotherhypervisor">Why does Qubes use Xen instead of KVM or some other hypervisor?</a></li>
<li><a href="#WhatssospecialaboutQubesGUIvirtualization">What's so special about Qubes' GUI virtualization?</a></li>
<li><a href="#CanIwatchYouTubevideosinAppVMs">Can I watch YouTube videos in AppVMs?</a></li>
<li><a href="#CanIrunapplicationslikegameswhichrequire3Dsupport">Can I run applications, like games, which require 3D support?</a></li>
<li><a href="#IsQubesamulti-usersystem">Is Qubes a multi-user system?</a></li>
</ol></li>
<li><a href="#InstallationHardwareCompatibility">Installation &amp; Hardware Compatibility</a>
<ol>
<li><a href="#HowmuchdiskspacedoeseachAppVMrequire">How much disk space does each AppVM require?</a></li>
<li><a href="#HowmuchmemoryisrecommendedforQubes">How much memory is recommended for Qubes?</a></li>
<li><a href="#CanIinstallQubesonasystemwithoutVT-x">Can I install Qubes on a system without VT-x?</a></li>
<li><a href="#CanIinstallQubesonasystemwithoutVT-d">Can I install Qubes on a system without VT-d?</a></li>
<li><a href="#CanIuseAMD-vinsteadofVT-x">Can I use AMD-v instead of VT-x?</a></li>
<li><a href="#CanIinstallQubesinavirtualmachinee.g.onVMWare">Can I install Qubes in a virtual machine (e.g., on VMWare)?</a></li>
<li><a href="#Whydoesmynetworkadapternotwork">Why does my network adapter not work?</a></li>
</ol></li>
<li><a href="#CommonProblems">Common Problems</a>
<ol>
<li><a href="#MyAppVMslostInternetaccessafteraTemplateVMupdate.WhatshouldIdo">My AppVMs lost Internet access after a TemplateVM update. What should I do?</a></li>
<li><a href="#Mykeyboardlayoutsettingsarenotbehavingcorrectly.WhatshouldIdo">My keyboard layout settings are not behaving correctly. What should I do?</a></li>
<li><a href="#Mydom0andorTemplateVMupdatestallswhenattemptingtoupdateviatheGUItool.WhatshouldIdo">My dom0 and/or TemplateVM update stalls when attempting to update via …</a></li>
<li><a href="#HowdoIrunaWindowsHVMinnon-seamlessmodei.e.asasinglewindow">How do I run a Windows HVM in non-seamless mode (i.e., as a single window)?</a></li>
<li><a href="#IassignedaPCIdevicetoanAppVMthenunassigneditshutdowntheAppVM.Whyisntthedeviceavailableindom0">I assigned a PCI device to an AppVM, then unassigned it/shut down the …</a></li>
</ol></li>
</ol>
<p></p>
<h2 id="GeneralQuestions">General Questions</h2>
<h3 id="IsQubesjustanotherLinuxdistribution">Is Qubes just another Linux distribution?</h3>
<p>If you really want to call it a distribution, then it's more of a &quot;Xen distribution&quot; than a Linux one. But Qubes is much more than just Xen packaging. It has its own VM management infrastructure, with support for template VMs, centralized VM updating, etc. It also has a very unique GUI virtualization infrastructure.</p>
<h3 id="HowisQubesdifferentfromothersecuritysolutions">How is Qubes different from other security solutions?</h3>
<p>Please see <a href="http://theinvisiblethings.blogspot.com/2012/09/how-is-qubes-os-different-from.html">​this article</a> for a thorough discussion.</p>
<h3 id="WhatisthemainconceptbehindQubes">What is the main concept behind Qubes?</h3>
<p>To build security on the “Security by Isolation” principle.</p>
<h3 id="Whataboutotherapproachestosecurity">What about other approaches to security?</h3>
<p>The other two popular <a href="http://theinvisiblethings.blogspot.com/2008/09/three-approaches-to-computer-security.html">​approaches</a> are “Security by Correctness” and “Security by Obscurity.” We don't believe either of these approaches are capable of providing reasonable security today, nor do we believe that they will be capable of doing so in the foreseeable future.</p>
<h3 id="Whataboutsafelanguagesandformallyverifiedmicrokernels">What about safe languages and formally verified microkernels?</h3>
<p>In short: these are non-realistic solutions today. We discuss this in further depth in our <a href="http://files.qubes-os.org/files/doc/arch-spec-0.3.pdf">​Architecture Specification document</a>.</p>
<h3 id="WhydoesQubesusevirtualization">Why does Qubes use virtualization?</h3>
<p>We believe that this is currently the only practically viable approach to implementing strong isolation while simultaneously providing compatibility with existing applications and drivers.</p>
<h3 id="DoesQubesruneveryappinaseparateVM">Does Qubes run every app in a separate VM?</h3>
<p>No! This would not make much sense. Qubes uses lightweight VMs to create security domains (e.g., &quot;work,&quot; &quot;personal,&quot; and &quot;banking,&quot;). A typical user would likely need around five domains. Very paranoid users, or those who are high-profile targets, might use a dozen or more domains.</p>
<h3 id="WhydoesQubesuseXeninsteadofKVMorsomeotherhypervisor">Why does Qubes use Xen instead of KVM or some other hypervisor?</h3>
<p>In short: we believe the Xen architecture allows for the creation of more secure systems (i.e. with a much smaller TCB, which translates to a smaller attack surface). We discuss this in much greater depth in our <a href="http://files.qubes-os.org/files/doc/arch-spec-0.3.pdf">​Architecture Specification document</a>.</p>
<h3 id="WhatssospecialaboutQubesGUIvirtualization">What's so special about Qubes' GUI virtualization?</h3>
<p>We have designed the GUI virtualization subsystem with two primary goals: security and performance. Our GUI infrastructure introduces only about 2,500 lines of C code (LOC) into the privileged domain (Dom0), which is very little, and thus leaves little space for bugs and potential attacks. At the same time, due to the smart use of Xen shared memory, our GUI implementation is very efficient, so most virtualized applications really feel as if they were executed natively.</p>
<h3 id="CanIwatchYouTubevideosinAppVMs">Can I watch YouTube videos in AppVMs?</h3>
<p>Absolutely.</p>
<h3 id="CanIrunapplicationslikegameswhichrequire3Dsupport">Can I run applications, like games, which require 3D support?</h3>
<p>Those won’t fly. We do not provide OpenGL virtualization for AppVMs. This is mostly a security decision, as implementing such a feature would most likely introduce a great deal of complexity into the GUI virtualization infrastructure. However, Qubes does allow for the use of accelerated graphics (OpenGL) in Dom0’s Window Manager, so all the fancy desktop effects should still work.</p>
<p>For further discussion about the potential for GPU passthorugh on Xen/Qubes, please see the following threads:</p>
<ul>
<li><a href="https://groups.google.com/group/qubes-devel/browse_frm/thread/31f1f2da39978573?scoring=d&amp;q=GPU&amp;">​GPU passing to HVM</a></li>
<li><a href="https://groups.google.com/group/qubes-devel/browse_frm/thread/31e2d8a47c8b4474?scoring=d&amp;q=GPU&amp;">​Clarifications on GPU security</a></li>
</ul>
<h3 id="IsQubesamulti-usersystem">Is Qubes a multi-user system?</h3>
<p>No. Qubes does not pretend to be a multi-user system. Qubes assumes that the user who controls Dom0 controls the whole system. It would be very difficult to <strong>securely</strong> implement multi-user support. See <a href="https://groups.google.com/group/qubes-devel/msg/899f6f3efc4d9a06">​here</a> for details.</p>
<h2 id="InstallationHardwareCompatibility">Installation &amp; Hardware Compatibility</h2>
<p>(See also: <a href="/wiki/wiki/SystemRequirements">System Requirements</a> and <a href="/wiki/wiki/HCL">Hardware Compatibility List</a>.)</p>
<h3 id="HowmuchdiskspacedoeseachAppVMrequire">How much disk space does each AppVM require?</h3>
<p>Each AppVM is created from a TemplateVM and shares the root filesystem with this TemplateVM (in a read-only manner). This means that each AppVM needs only as much disk space as is necessary to store its own private data. This also means that it is possible to update the software for several AppVMs simultaneously by running a single update process in the TemplateVM upon which those AppVMs are based. (These AppVMs will then have to be restarted in order for the update to take effect in them.)</p>
<h3 id="HowmuchmemoryisrecommendedforQubes">How much memory is recommended for Qubes?</h3>
<p>At least 4 GB. It is possible to install Qubes on a system with 2 GB of RAM, but the system would probably not be able to run more than three AppVMs at a time.</p>
<h3 id="CanIinstallQubesonasystemwithoutVT-x">Can I install Qubes on a system without VT-x?</h3>
<p>Yes. Xen doesn't use VT-x (or AMD-v) for PV guest virtualization. (It uses ring0/3 separation instead.) However, without VT-x, you won't be able to use fully virtualized VMs (e.g., Windows-based AppVMs), which were introduced in Qubes 2. In addition, if your system lacks VT-x, then it also lacks VT-d. (See next question.)</p>
<h3 id="CanIinstallQubesonasystemwithoutVT-d">Can I install Qubes on a system without VT-d?</h3>
<p>Yes. You can even run a NetVM, but you will not benefit from DMA protection for driver domains. On a system without VT-d, everything should work in the same way, except there will be no real security benefit to having a separate NetVM, as an attacker could always use a simple DMA attack to go from the NetVM to Dom0. <strong>Nonetheless, all of Qubes' other security mechanisms, such as AppVM separation, work without VT-d. Therefore, a system running Qubes will still be significantly more secure than one running Windows, Mac, or Linux, even if it lacks VT-d.</strong></p>
<h3 id="CanIuseAMD-vinsteadofVT-x">Can I use AMD-v instead of VT-x?</h3>
<p>See <a href="http://groups.google.com/group/qubes-devel/msg/6412170cfbcb4cc5">​this message</a>.</p>
<h3 id="CanIinstallQubesinavirtualmachinee.g.onVMWare">Can I install Qubes in a virtual machine (e.g., on VMWare)?</h3>
<p>Some users have been able to do this, but it is neither recommended nor supported. Qubes should be installed bare-metal. (After all, it uses its own bare-metal hypervisor!)</p>
<h3 id="Whydoesmynetworkadapternotwork">Why does my network adapter not work?</h3>
<p>You may have an adapter (wired, wireless), that is not compatible with open-source drivers shipped by Qubes. There may be a binary blob, which provides drivers in the linux-firmware package.</p>
<p>Open a terminal and run <code>sudo yum install linux-firmware</code> in the TemplateVM upon which your NetVM is based. You have to restart the NetVM after the TemplateVM has been shut down.</p>
<h2 id="CommonProblems">Common Problems</h2>
<h3 id="MyAppVMslostInternetaccessafteraTemplateVMupdate.WhatshouldIdo">My AppVMs lost Internet access after a TemplateVM update. What should I do?</h3>
<p>Run <code>systemctl enable NetworkManager-dispatcher.service</code> in the TemplateVM upon which your NetVM is based. You may have to reboot afterward for the change to take effect. (Note: This is an upstream problem. See <a href="https://bugzilla.redhat.com/show_bug.cgi?id=974811">​here</a>. For details, see the qubes-users mailing list threads <a href="https://groups.google.com/d/topic/qubes-users/xPLGsAJiDW4/discussion">​here</a> and <a href="https://groups.google.com/d/topic/qubes-users/uN9G8hjKrGI/discussion">​here</a>.)</p>
<h3 id="Mykeyboardlayoutsettingsarenotbehavingcorrectly.WhatshouldIdo">My keyboard layout settings are not behaving correctly. What should I do?</h3>
<p>Please read <a href="https://groups.google.com/d/topic/qubes-devel/d8ZQ_62asKI/discussion">​this disccusion</a>.</p>
<h3 id="Mydom0andorTemplateVMupdatestallswhenattemptingtoupdateviatheGUItool.WhatshouldIdo">My dom0 and/or TemplateVM update stalls when attempting to update via the GUI tool. What should I do?</h3>
<p>This can usually be fixed by updating via the command line.</p>
<p>In dom0, open a terminal and run <code>sudo qubes-dom0-update</code>.</p>
<p>In your TemplateVMs, open a terminal and run <code>sudo yum upgrade</code>.</p>
<h3 id="HowdoIrunaWindowsHVMinnon-seamlessmodei.e.asasinglewindow">How do I run a Windows HVM in non-seamless mode (i.e., as a single window)?</h3>
<p>Enable &quot;debug mode&quot; in the AppVM's settings, either by checking the box labelled &quot;Run in debug mode&quot; in the Qubes VM Manager AppVM settings menu or by running the <a href="/wiki/wiki/Dom0Tools/QvmPrefs">qvm-prefs command</a>.)</p>
<h3 id="IassignedaPCIdevicetoanAppVMthenunassigneditshutdowntheAppVM.Whyisntthedeviceavailableindom0">I assigned a PCI device to an AppVM, then unassigned it/shut down the AppVM. Why isn't the device available in dom0?</h3>
<p>This is an intended feature. A device which was previously assigned to a less trusted AppVM could attack dom0 if it were automatically reassigned there. In order to re-enable the device in dom0, either:</p>
<ol>
<li>Reboot the physical machine.</li>
</ol>
<p>or</p>
<ol start="2">
<li><p>Go to the sysfs (<code>/sys/bus/pci</code>), find the right device, detach it from the pciback driver and attach back to the original driver. Replace <code>&lt;BDF&gt;</code> with your device, for example <code>00:1c.2</code>:</p>
<pre class="wiki"><code>echo 0000:&lt;BDF&gt; &gt; /sys/bus/pci/drivers/pciback/unbind
MODALIAS=`cat /sys/bus/pci/devices/0000:&lt;BDF&gt;/modalias`
MOD=`modprobe -R $MODALIAS | head -n 1`
echo &lt;BDF&gt; &gt; /sys/bus/pci/drivers/$MOD/bind </code></pre></li>
</ol>
